# Калькулятор

Этот проект представляет собой консольный калькулятор для вычисления математических выражений. Приложение поддерживает как стандартную **инфиксную**, так и **Обратную Польскую Нотацию (RPN)**.

## Оглавление
- [Использование](#использование)
- [Архитектура Проекта](#архитектура-проекта)
- [Технологии](#технологии)

## Использование

### Установка
Проект использует `uv` для управления виртуальным окружением и `Makefile` для автоматизации команд.

**Требования:**
*   Python 3.13+
*   `make`
*   `uv` (устанавливается командой `pip install uv`)

**Установка зависимостей**
```bash
make install
```

### Запуск приложения

Приложение можно запустить как с помощью удобных команд `make`, так и напрямую через `uv`.

*   **Инфиксный режим (по умолчанию):**
	Через `Makefile`:
    ```bash
    make infix
    ```
    Напрямую через `uv`:
    ```bash
    uv run main.py
    ```

*   **Режим Обратной Польской Нотации (RPN):**
    Через `Makefile`:
    ```bash
    make rpn
    ```
    Напрямую через `uv`:
    ```bash
    uv run main.py --rpn
    ```

Для выхода из программы введите `exit` или `quit`.

## Архитектура Проекта
*   **`domain/` — Ядро бизнес-логики.**
    *   Определяет основные сущности: `Token`, `Number`, `Operator`.
    *   Содержит `RPNCalculator`, который умеет считать только валидные RPN-выражения.
*   **`usecase/` — Слой бизнес-сценариев.**
    *   Определяет интерфейсы (`interface.py`) для внешних зависимостей.
    *   Содержит (`CalculatorUsecase`), который описывает шаги для выполнения вычислений.
*   **`repository/` — Реализации интерфейсов.**
    *   Содержит конкретные реализации: `RegexTokenizer`, `ShuntingYard`, набор валидаторов и т.д.
*   **`adapter/` — Взаимодействие с внешним миром.**
    *   Реализует интерфейс командной строки (`cli.py`). 
*   **`main.py` — Точка входа и сборка зависимостей.**

## Технологии 
*   **Инструменты:**
    *   **`uv`**: Для управления пакетами и виртуальным окружением.
    *   **`pytest`**: Для юнит-тестов. 
    *   **`ruff`**: Для линтинга и форматирования кода.
    *   **`mypy`**: Для статической проверки типов.
